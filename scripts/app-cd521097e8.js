/******/!function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}// webpackBootstrap
/******/
var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var o=n(1),i=n(2),a=n(3),r=n(4),c=n(6),s=n(7),l=n(8),d=n(9),u=n(5),p=n(10),m=n(11),h=n(12),v=n(13),$=n(14),g=n(15),f=n(16),b=n(17),y=n(18),w=n(19),S=n(20),C=n(21),_=n(22),A=n(23),x=n(24),k=n(25),E=n(26),I=n(27),T=n(28),U=n(29);angular.module("monarchApp",["ngMaterial","ngAnimate","ngCookies","ngSanitize","ngMessages","ngAria","ngResource","angularMoment","ui.router","toastr","LocalStorageModule","ui.ace","firebase","angular-clipboard"]).constant("moment",moment).constant("keen_project_id","57e6bb3f8db53dfda8a70c6a").constant("keen_read_key","CD887804EA83FC44352DBF6A88DABB0E096C7BDBE3087C684B55CDE7A444856771AD9C60E9A0DC7BE22B6EF9A4C23EAE95D540775DE2C43250AE9F98B5E3B64D43B74A249AFF999F668E5557D257C709725C609A5623E0EA6C3E2055F515A0E7").constant("keen_write_key","AFAF1531EC4B1A99E879B8EB86DD3A53D8724A6FE1FAB0A06E8133EBF66CF957475FB96CB64880EEA8C8E203C4A1273BECF44AE5CDD2189789C6F62509E922D7530AAA74577E6FFA5F26542B49869FF46513DF9B24FD85F57584E8CC50EA36B2").config(o.config).config(i.routerConfig).run(a.runBlock).service("EthereumService",s.EthereumService).service("SecurityService",c.SecurityService).service("MonarchService",u.MonarchService).service("UserService",p.UserService).service("InfuraService",d.InfuraService).service("IpfsService",l.IpfsService).controller("FeedController",r.FeedController).controller("HelloController",g.HelloController).controller("WelcomeController",$.WelcomeController).controller("MetaCoinController",f.MetaCoinController).controller("EthLightWalletController",b.EthLightWalletController).controller("LoginController",m.LoginController).controller("LogoutController",h.LogoutController).controller("RegisterController",v.RegisterController).controller("InstallDependenciesController",y.InstallDependenciesController).controller("HistoryController",w.HistoryController).controller("PulseController",S.PulseController).controller("ContentViewV0Controller",x.ContentViewV0Controller).directive("ecContentViewV0",k.ecContentViewV0).controller("TextInputV0Controller",E.TextInputV0Controller).directive("ecTextInputV0",I.ecTextInputV0).controller("BooleanInputV0Controller",T.BooleanInputV0Controller).directive("ecBooleanInputV0",U.ecBooleanInputV0).directive("appNavbar",C.appNavbar).directive("monarchApp",_.monarchApp).directive("renderedParticles",A.renderedParticles)},function(t,e){function n(t,e,n,o,i,a){t.debugEnabled(!0),o.allowHtml=!0,o.timeOut=3e3,o.positionClass="toast-top-right",o.preventDuplicates=!0,o.progressBar=!0,i.setPrefix("monarch"),n.theme("monarchAppTheme").primaryPalette("amber",{"default":"700","hue-1":"800","hue-2":"600","hue-3":"A400"}).accentPalette("blue",{"default":"400"}).warnPalette("pink").backgroundPalette("grey",{"default":"200","hue-1":"100","hue-2":"200","hue-3":"800"}),n.theme("alt").primaryPalette("blue").accentPalette("light-blue").warnPalette("orange").backgroundPalette("grey").dark(),n.theme("dark-grey").primaryPalette("blue").accentPalette("light-blue").warnPalette("orange").backgroundPalette("grey").dark(),n.setDefaultTheme("monarchAppTheme")}n.$inject=["$logProvider","$httpProvider","$mdThemingProvider","toastrConfig","localStorageServiceProvider","$mdIconProvider"],e.config=n},function(t,e){function n(t,e){t.state("welcome",{url:"/welcome",templateUrl:"app/welcome/welcome.html",controller:"WelcomeController",controllerAs:"welcomeCtrl"}).state("hello",{url:"/hello",templateUrl:"app/hello/hello.html",controller:"HelloController",controllerAs:"helloCtrl"}).state("metacoin",{url:"/metacoin",templateUrl:"app/metacoin/metacoin.html",controller:"MetaCoinController",controllerAs:"metaCoinCtrl"}).state("eth-lightwallet",{url:"/eth-lightwallet",templateUrl:"app/eth-lightwallet/eth-lightwallet.html",controller:"EthLightWalletController",controllerAs:"ethLightWalletCtrl"}).state("feed",{url:"/feed",templateUrl:"app/feed/feed.html",controller:"FeedController",controllerAs:"feedCtrl"}).state("login",{url:"/login",templateUrl:"app/user/login/login.html",controller:"LoginController",controllerAs:"loginController"}).state("logout",{url:"/logout",templateUrl:"app/user/logout/logout.html",controller:"LogoutController",controllerAs:"logoutController"}).state("register",{url:"/register",templateUrl:"app/user/register/monarch/register.html",controller:"RegisterController",controllerAs:"registerCtrl"}).state("install",{url:"/install",templateUrl:"app/dependencies/install/install.html",controller:"InstallDependenciesController",controllerAs:"installDependenciesCtrl"}).state("history",{url:"/history",templateUrl:"app/history/history.html",controller:"HistoryController",controllerAs:"historyCtrl"}).state("pulse",{url:"/pulse",templateUrl:"app/pulse/pulse.html",controller:"PulseController",controllerAs:"pulseCtrl"}),e.otherwise("/welcome")}n.$inject=["$stateProvider","$urlRouterProvider"],e.routerConfig=n},function(t,e){function n(t,e,n,o,i,a,r,c,s,l,d){var u=window;o.App={},o.App.Version="0.0.0",o.App.EthereumService=r,o.App.IpfsService=c,o.App.MonarchService=s,o.App.InfuraService=d,o.App.firebaseConfig={apiKey:"AIzaSyDIXrTv0TD9zdaCy5n_QXm6_VMaS-1B3sQ",authDomain:"transmute-industries.firebaseapp.com",databaseURL:"https://transmute-industries.firebaseio.com",storageBucket:"transmute-industries.appspot.com",messagingSenderId:"1068223304219"},o.App.firebase=u.firebase.initializeApp(o.App.firebaseConfig),o.App.Version="0.0.0",o.App.UserService=l;var u=window;o.$watch(function(){return o.App.isMetaMaskInstalled},function(t){o.App.isInstallationComplete=t}),o.$on("$stateChangeStart",function(t,e,n){e.redirectTo&&(t.preventDefault(),i.go(e.redirectTo,n,{location:"replace"}))})}n.$inject=["$location","$timeout","$log","$rootScope","$state","$mdToast","EthereumService","IpfsService","MonarchService","UserService","InfuraService"],e.runBlock=n},function(t,e,n){var o=n(5),i=function(){function t(t,e,n,i,a,r,c,s,l,d,u){var p=this;this.$scope=t,this.$mdSidenav=e,this.$http=n,this.$log=i,this.$rootScope=a,this.$timeout=r,this.$interval=c,this.$sce=s,this.$mdDialog=l,this.toastr=d,this.$firebaseObject=u,this.init=function(t){p.$rootScope.App.firebase.database().ref("/accounts/"+t.uid).once("value").then(function(e){var n=e.val();if(p.account=n,n){if(p.$log.debug("syncActivityInstances once..."),n.activity_instances){var o=p.$rootScope.App.firebase.database().ref("/accounts/"+t.uid+"/activity_instances"),i=p.$firebaseObject(o);i.$bindTo(p.$scope,"feedCtrl.activity_instances")}else p.$rootScope.App.MonarchService.schedule(n),p.$timeout(function(){p.init(t)},1e3);p.init_complete=!0}else p.$rootScope.App.firebase.database().ref("accounts/"+t.uid).set({uid:t.uid,ethereum_accounts:p.$rootScope.App.EthereumService.accounts,name:"Janet Perkins",image:"/assets/img/avatar.jpeg",activity_suite:p.$rootScope.App.MonarchService.ActivitySuite,activity_instances:[]}),p.$timeout(function(){p.init(t)},1e3)})},this.ct=o.ComponentTypes,this.activity_instances=null,this.init_complete=!1,this.$scope.$watch(function(){return p.$rootScope.App.UserService.user},function(t){t&&!p.init_complete&&p.init(t)})}return t.$inject=["$scope","$mdSidenav","$http","$log","$rootScope","$timeout","$interval","$sce","$mdDialog","toastr","$firebaseObject"],t}();e.FeedController=i},function(t,e){!function(t){t[t.Incomplete=0]="Incomplete",t[t.Complete=1]="Complete"}(e.ActivityInstanceStatus||(e.ActivityInstanceStatus={}));var n=e.ActivityInstanceStatus;!function(t){t[t.text_input_v0=0]="text_input_v0",t[t.boolean_input_v0=1]="boolean_input_v0",t[t.content_view_v0=2]="content_view_v0"}(e.ComponentTypes||(e.ComponentTypes={}));var o=e.ComponentTypes,i=function(){function t(t,e,i,a,r,c,s,l,d,u){var p=this;this.$timeout=t,this.$log=e,this.$http=i,this.$window=a,this.$q=r,this.$rootScope=c,this.keen_project_id=s,this.keen_write_key=l,this.keen_read_key=d,this.$firebaseObject=u,this.waitForKeen=function(){p.$rootScope.$watch(function(){return Keen?Keen:void 0},function(t){t&&p.initKeen()})},this.initKeen=function(){KeenAsync.ready(function(){var t=window;p.keen_async_client=t.keen_client})},this.isSpecInInstances=function(t,e){var n=!1;return e.forEach(function(e){t.schema_config.uid===e.activity_spec.schema_config.uid&&(n=!0)}),n},this.schedule=function(t){t.activity_suite.activity_specs.forEach(function(e){var o=p.$rootScope.App.firebase.database().ref("accounts/"+t.uid),i=o.child("activity_instances").push().key,a=angular.copy({instance_uid:i,account_uid:t.uid,activity_spec:angular.copy(e),capture:{value:null,created:new Date},status:n.Incomplete}),r={};r["/activity_instances/"+i]=a,o.update(r)})},this.captureInstance=function(t){p.$log.debug("capturing instance: ",t);var e=p.$rootScope.App.UserService.user,n=p.$rootScope.App.firebase.database().ref("accounts/"+e.uid),o=n.child("activity_instance_captures").push().key,i={};i["/activity_instance_captures/"+o]=t,n.update(i),p.$rootScope.App.MonarchService.keen_async_client.recordEvent("activity_instance_captures",t),n.child("activity_instances/"+t.instance_uid).remove()},this.ActivitySuite={activity_specs:[{cron_expression:null,expiration_criteria:"NEVER",render_config:{label:"Name",priority:2,md_theme:"alt",icon:"feedback",component:o.text_input_v0},schema_config:{uid:"0",title:"What is your full name?",name:"user_name",type:"string"}},{cron_expression:null,expiration_criteria:"NEVER",render_config:{label:"Date",priority:2,md_theme:"alt",icon:"feedback",component:o.text_input_v0},schema_config:{uid:"0",title:"What is your date of birth?",name:"birthDate",type:"string"}},{cron_expression:null,expiration_criteria:"NEVER",render_config:{label:"Country",priority:2,md_theme:"alt",icon:"feedback",component:o.text_input_v0},schema_config:{uid:"0",title:"What is your country of origin?",name:"originCountry",type:"string"}},{cron_expression:null,expiration_criteria:"NEVER",render_config:{label:"Have Ids?",priority:2,md_theme:"alt",icon:"feedback",component:o.boolean_input_v0},schema_config:{uid:"0",title:"Do you have any identifying documents?",name:"isInPossesionOfExistingIds",type:"string"}},{cron_expression:null,expiration_criteria:"NEVER",render_config:{label:"Are you in need of medical assistance?",priority:1,md_theme:"alt",icon:"healing",component:o.boolean_input_v0},schema_config:{uid:"1",title:"Are you in need of medical assistance?",name:"isInNeedOfMedicalAssistance",type:"boolean"}}]},this.waitForKeen()}return t.$inject=["$timeout","$log","$http","$window","$q","$rootScope","keen_project_id","keen_write_key","keen_read_key","$firebaseObject"],t}();e.MonarchService=i},function(t,e){var n=function(){function t(t,e,n,o,i,a,r,c,s){var l=this;this.$timeout=t,this.$log=e,this.$http=n,this.$window=o,this.$q=i,this.$mdToast=a,this.$state=r,this.$rootScope=c,this.localStorageService=s,this.init=function(){l.$log.debug("SecurityService.init()",sjcl)},this.saveAccountSecret=function(t){l.localStorageService.set("AccountSecret",t)},this.getAccountSecret=function(){return l.localStorageService.get("AccountSecret")},this.encryptObject=function(t,e){var n=JSON.stringify(e),o=sjcl.encrypt(t,n),i=JSON.parse(o);return i},this.decryptObject=function(t,e){var n=sjcl.decrypt(t,JSON.stringify(e));return JSON.parse(n)}}return t.$inject=["$timeout","$log","$http","$window","$q","$mdToast","$state","$rootScope","localStorageService"],t}();e.SecurityService=n},function(t,e){var n=function(){function t(t,e,n,o,i,a,r,c){var s=this;this.$timeout=t,this.$log=e,this.$http=n,this.$window=o,this.$q=i,this.$mdToast=a,this.$state=r,this.$rootScope=c,this.watchForAccounts=function(){s.$rootScope.$watch(function(){return s.web3.eth.accounts},function(t){s.accounts=t})},this.w=window,this.web3=new this.w.Web3,this.web3=new this.w.Web3(new this.w.Web3.providers.HttpProvider("http://localhost:8545")),this.accounts=this.web3.eth.accounts}return t.$inject=["$timeout","$log","$http","$window","$q","$mdToast","$state","$rootScope"],t}();e.EthereumService=n},function(t,e){var n=function(){function t(t,e,n,o,i,a,r,c){this.$timeout=t,this.$log=e,this.$http=n,this.$window=o,this.$q=i,this.$mdToast=a,this.$state=r,this.$rootScope=c;window}return t.$inject=["$timeout","$log","$http","$window","$q","$mdToast","$state","$rootScope"],t}();e.IpfsService=n},function(t,e){var n=function(){function t(t,e,n,o,i,a,r,c){this.$timeout=t,this.$log=e,this.$http=n,this.$window=o,this.$q=i,this.$mdToast=a,this.$state=r,this.$rootScope=c,this.w=window,!this.web3}return t.$inject=["$timeout","$log","$http","$window","$q","$mdToast","$state","$rootScope"],t}();e.InfuraService=n},function(t,e){var n=function(){function t(t,e,n,o,i,a,r){var c=this;this.$log=t,this.$http=e,this.$window=n,this.$q=o,this.$mdToast=i,this.$state=a,this.$rootScope=r,this.toastLogin=function(){var t=c.$mdToast.simple();t.content("Hello "+c.user.uid),t.position("top left"),c.$mdToast.show(t)},this.loadSessionUser=function(){var t=c.$q.defer();return c.$rootScope.App.firebase.auth().onAuthStateChanged(function(e){e?(c.user=e,c.toastLogin(),t.resolve(c.user)):(c.user=null,t.reject("User is logged out"))}),t.promise},this.loginWithGithub=function(){var t=c.$q.defer(),e=window;new e.firebase.auth.GithubAuthProvider;return c.$rootScope.App.firebase.auth().signInAnonymously()["catch"](function(t){c.$log.error("loginWithGithub failed: ",t)}),t.promise},this.logout=function(){var t=c.$q.defer();return c.$rootScope.App.firebase.auth().signOut().then(function(){t.resolve(!0)},function(e){t.reject(e)}),t.promise}}return t.$inject=["$log","$http","$window","$q","$mdToast","$state","$rootScope"],t}();e.UserService=n},function(t,e){var n=function(){function t(t,e,n,o,i,a,r,c,s){var l=this;this.$scope=t,this.$mdSidenav=e,this.$http=n,this.$log=o,this.$rootScope=i,this.$timeout=a,this.$state=r,this.toastr=c,this.UserService=s,this.loginWithGithub=function(){l.$log.log("LoginController.loginWithGithub"),l.UserService.loginWithGithub().then(function(){l.$state.go("feed")})},o.log("LoginController...",s)}return t.$inject=["$scope","$mdSidenav","$http","$log","$rootScope","$timeout","$state","toastr","UserService"],t}();e.LoginController=n},function(t,e){var n=function(){function t(t,e,n,o,i,a,r,c,s){var l=this;this.$scope=t,this.$mdSidenav=e,this.$http=n,this.$log=o,this.$rootScope=i,this.$timeout=a,this.$state=r,this.toastr=c,this.UserService=s,this.logoutUser=function(){l.$log.log("LogoutController.logoutUser"),l.UserService.logout().then(function(){l.$state.go("hello")})},o.log("LogoutController...",s),this.logoutUser()}return t.$inject=["$scope","$mdSidenav","$http","$log","$rootScope","$timeout","$state","toastr","UserService"],t}();e.LogoutController=n},function(t,e){var n=function(){function t(t,e,n,o,i,a,r,c,s){var l=this;this.$scope=t,this.$mdSidenav=e,this.$http=n,this.$log=o,this.$rootScope=i,this.$timeout=a,this.$state=r,this.toastr=c,this.UserService=s,this.registerUser=function(){l.$log.debug("Register the user...")},o.log("RegisterController...")}return t.$inject=["$scope","$mdSidenav","$http","$log","$rootScope","$timeout","$state","toastr","UserService"],t}();e.RegisterController=n},function(t,e){var n=function(){function t(t,e,n,o,i,a,r,c,s,l,d){this.$scope=t,this.$mdSidenav=e,this.$http=n,this.$log=o,this.$rootScope=i,this.$timeout=a,this.$interval=r,this.$sce=c,this.$mdDialog=s,this.toastr=l,this.$firebaseObject=d}return t.$inject=["$scope","$mdSidenav","$http","$log","$rootScope","$timeout","$interval","$sce","$mdDialog","toastr","$firebaseObject"],t}();e.WelcomeController=n},function(t,e){var n=function(){function t(t,e,n,o,i,a,r,c,s,l,d){this.$scope=t,this.$mdSidenav=e,this.$http=n,this.$log=o,this.$rootScope=i,this.$timeout=a,this.$interval=r,this.$sce=c,this.$mdDialog=s,this.toastr=l,this.$firebaseObject=d}return t.$inject=["$scope","$mdSidenav","$http","$log","$rootScope","$timeout","$interval","$sce","$mdDialog","toastr","$firebaseObject"],t}();e.HelloController=n},function(t,e){var n=function(){function t(t,e,n,o,i,a,r,c,s,l,d){var u=this;this.$scope=t,this.$mdSidenav=e,this.$http=n,this.$log=o,this.$rootScope=i,this.$timeout=a,this.$interval=r,this.$sce=c,this.$mdDialog=s,this.toastr=l,this.$firebaseObject=d,this.watchForAccounts=function(){u.$rootScope.$watch(function(){return u.$rootScope.App.EthereumService.accounts},function(t){u.accounts=t,u.account=u.accounts[0]})},this.setStatus=function(t){u.status=t},this.refreshBalances=function(){u.monarchTruffleApp.metaCoin.getBalance.call(u.account,{from:u.account}).then(function(t){u.balance=t.valueOf(),u.setStatus(u.balance+" balance retrieved "+new Date)})["catch"](function(t){console.log(t),u.setStatus("Error getting balance; see log.")})},this.sendCoin=function(){u.setStatus("Initiating transaction... (please wait)"),u.monarchTruffleApp.metaCoin.sendCoin(u.receivingAccount,u.sendingAmmount,{from:u.account}),u.setStatus("Transaction complete!"),u.refreshBalances()},this.watchForAccounts(),this.$rootScope.App.EthereumService.web3.eth.getAccounts(function(t,e){if(null!=t)return void alert("There was an error fetching your accounts.");if(0==e.length)return void alert("Couldn't get any accounts! Make sure your Ethereum client is configured correctly.");var n=window;u.monarchTruffleApp=n.monarchTruffleApp,u.$timeout(function(){u.refreshBalances()},500)})}return t.$inject=["$scope","$mdSidenav","$http","$log","$rootScope","$timeout","$interval","$sce","$mdDialog","toastr","$firebaseObject"],t}();e.MetaCoinController=n},function(t,e){var n,o=new Web3,i=function(){function t(t,e,i,a,r,c,s,l,d){var u=this;this.$scope=t,this.$mdSidenav=e,this.$http=i,this.$interval=a,this.$log=r,this.$rootScope=c,this.$timeout=s,this.$state=l,this.toastr=d,this.newAddresses=function(t){""==t&&(t=prompt("Enter password to retrieve addresses","Password"));var e=u.numAddr;lightwallet.keystore.deriveKeyFromPassword(t,function(t,o){n.generateNewAddress(o,e);var i=n.getAddresses();u.addresses=i,u.sendFrom="0x0aa0894839cc227adb7e4c17d3b8e12f8aab9ecd",u.sendTo=u.addresses[1],u.getBalances()})},this.getBalances=function(){var t=n.getAddresses();u.$log.debug("Retrieving addresses..."),async.map(t,o.eth.getBalance,function(e,n){async.map(t,o.eth.getTransactionCount,function(e,o){for(var i=0;i<t.length;++i)u.$log.debug(t[i],n[i]/1e18,o[i])})})},this.generateRandomSeed=function(){var t=angular.copy(u.userEntropy);u.userEntropy="",u.randomSeed=lightwallet.keystore.generateRandomSeed(t),u.hide_generateRandomSeed=!0,u.hide_deriveKeyFromPassword=!1},this.deriveKeyFromPassword=function(t){lightwallet.keystore.deriveKeyFromPassword(t,function(e,o){n=new lightwallet.keystore(u.randomSeed,o),u.newAddresses(t),u.setWeb3Provider(n),u.$interval(function(){u.$log.debug("getting balances..."),u.getBalances()},3e3),u.hide_deriveKeyFromPassword=!0,u.hide_sendEth=!1,u.$scope.$apply()})},this.sendEth=function(){var t=u.sendFrom,e=u.sendTo,n=1e18*u.sendValueAmount,i=5e10,a=5e4;o.eth.sendTransaction({from:t,to:e,value:n,gasPrice:i,gas:a},function(t,e){console.log("error: "+t),console.log("txhash: "+e),u.txhash=e,u.$scope.$apply();var n=o.eth.sign(u.sendFrom,u.txhash);console.log("signed transaction: ",n)})},this.functionCall=function(){var t=u.functionCaller,e=u.contractAddr,n=JSON.parse(u.contractAbi),i=o.eth.contract(n).at(e),a=u.functionName,r=JSON.parse("["+u.functionArgs+"]"),c=1e18*u.sendValueAmount,s=5e10,l=3141592;r.push({from:t,value:c,gasPrice:s,gas:l});var d=function(t,e){console.log("error: "+t),console.log("txhash: "+e),u.txhash=e,u.$scope.$apply()};r.push(d),i[a].apply(u,r)},this.setWeb3Provider=function(t){var e=new HookedWeb3Provider({host:"http://localhost:8545",transaction_signer:t});o.setProvider(e)},r.log("EthLightWalletController..."),this.numAddr=10,this.hide_deriveKeyFromPassword=!0,this.hide_sendEth=!0}return t.$inject=["$scope","$mdSidenav","$http","$interval","$log","$rootScope","$timeout","$state","toastr"],t}();e.EthLightWalletController=i},function(t,e){var n=function(){function t(t,e,n,o,i,a,r,c,s){var l=this;this.$scope=t,this.$mdSidenav=e,this.$http=n,this.$log=o,this.$rootScope=i,this.$timeout=a,this.$state=r,this.toastr=c,this.UserService=s,this.watchDependencies=function(){l.$scope.$watch(function(){return l.$rootScope.App.isInstallationComplete},function(t){l.isInstallationComplete=t,l.$state.go("feed")})},this.aceLoaded=function(t){t.setReadOnly(!0);var e=t.getSession(),n=t.renderer,o='\n# Install from https://ipfs.io/\n\n# Configure \nipfs config --json API.HTTPHeaders.Access-Control-Allow-Origin "["http://localhost:3000", "http://monarch.transmute.industries"]" \n\n# Run \nipfs daemon\n        ';t.setValue(o),e.setUndoManager(new ace.UndoManager),n.setShowGutter(!1)},o.log("InstallDependenciesController...")}return t.$inject=["$scope","$mdSidenav","$http","$log","$rootScope","$timeout","$state","toastr","UserService"],t}();e.InstallDependenciesController=n},function(t,e){var n=function(){function t(t,e,n,o,i,a,r,c,s,l,d,u){var p=this;this.$scope=t,this.$mdSidenav=e,this.$http=n,this.$log=o,this.$rootScope=i,this.$timeout=a,this.$state=r,this.toastr=c,this.UserService=s,this.keen_project_id=l,this.keen_read_key=d,this.$firebaseObject=u,this.init=function(t){var e=p.$rootScope.App.firebase.database().ref("/accounts/"+t.uid+"/activity_instance_captures"),n=p.$firebaseObject(e);n.$bindTo(p.$scope,"historyCtrl.activity_instance_captures")},o.log("HistoryController..."),this.$scope.$watch(function(){return p.$rootScope.App.UserService.user},function(t){t&&!p.init_complete&&p.init(t)})}return t.$inject=["$scope","$mdSidenav","$http","$log","$rootScope","$timeout","$state","toastr","UserService","keen_project_id","keen_read_key","$firebaseObject"],t}();e.HistoryController=n},function(t,e){var n=function(){function t(t,e,n,o,i,a,r,c,s,l,d,u){var p=this;this.$scope=t,this.$mdSidenav=e,this.$http=n,this.$log=o,this.$rootScope=i,this.$timeout=a,this.$state=r,this.toastr=c,this.UserService=s,this.keen_project_id=l,this.keen_read_key=d,this.$firebaseObject=u,this.countUserInstances=function(){var t=new Keen({projectId:p.keen_project_id,readKey:p.keen_read_key}),e=(new Keen.Dataviz).el("#chart_1").colors(["#6ab975"]).height(180).type("metric").prepare();t.query("count",{event_collection:"activity_instance_captures",timeframe:"this_14_days",timezone:"UTC"}).then(function(t){e.data(t).render()})["catch"](function(t){e.message(t.message)})},this.renderPageViews=function(){var t=new Keen({projectId:p.keen_project_id,readKey:p.keen_read_key}),e=(new Keen.Dataviz).el("#chart_2").colors(["#6ab975"]).height(180).type("area").prepare();t.query("count",{event_collection:"pageviews",interval:"daily",timeframe:"this_14_days"}).then(function(t){e.data(t).render()})["catch"](function(t){e.message(t.message)})},o.log("PulseController..."),this.renderPageViews(),this.countUserInstances()}return t.$inject=["$scope","$mdSidenav","$http","$log","$rootScope","$timeout","$state","toastr","UserService","keen_project_id","keen_read_key","$firebaseObject"],t}();e.PulseController=n},function(t,e){function n(){return{restrict:"E",scope:{},templateUrl:"app/navbar/navbar.html",controller:o,controllerAs:"navbarCtrl",bindToController:!0}}e.appNavbar=n;var o=function(){function t(t,e,n,o,i,a,r,c){var s=this;this.$window=t,this.$scope=e,this.$log=n,this.$rootScope=o,this.$mdSidenav=i,this.$mdToast=a,this.$mdDialog=r,this.$state=c,this.showMetaMaskAccount=function(t){s.$mdDialog.show({controller:s,contentElement:"#showMetaMaskAccount",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0})},this.showMonarchId=function(t){s.$mdDialog.show({controller:s,contentElement:"#showMonarchId",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0})},this.toastCopyClipboard=function(){var t=s.$mdToast.simple();t.content("Copied to Clipboard!"),t.position("top right"),s.$mdToast.show(t)},this.success=function(){s.toastCopyClipboard()},this.fail=function(t){s.$log.error("Error!",t)},this.openMenu=function(t,e){t(e)},this.$scope.$watch(function(){return s.$rootScope.App.UserService.user},function(t){t&&(s.FBUserToken||s.$rootScope.App.firebase.auth().currentUser.getToken(!1).then(function(e){s.FBUserToken=e;var n=window;new n.QRious({element:document.getElementById("SmallFBUserToken"),value:s.FBUserToken}),new n.QRious({element:document.getElementById("LargeFBUserToken"),value:s.FBUserToken});s.$rootScope.App.firebase.database().ref("/accounts/"+t.uid).once("value").then(function(t){if(s.account=t.val(),null!==s.account){var e=window;new e.QRious({element:document.getElementById("ethereum_account_qr_code"),value:s.account.ethereum_accounts[0]})}})})["catch"](function(t){s.$log.error("Unable to generate token...",t)}))})}return t.$inject=["$window","$scope","$log","$rootScope","$mdSidenav","$mdToast","$mdDialog","$state"],t}();e.NavbarController=o},function(t,e){function n(){return{restrict:"A",controller:o,controllerAs:"monarchAppCtrl"}}e.monarchApp=n;var o=function(){function t(t,e,n,o,i,a,r){var c=this;this.$state=t,this.$window=e,this.$scope=n,this.$log=o,this.$timeout=i,this.$rootScope=a,this.$mdSidenav=r,this.bodyClass=t.current.name,this.$rootScope.App.UserService.loadSessionUser(),a.$watch(function(){return t.current.name},function(t){t&&(c.bodyClass=t)})}return t.$inject=["$state","$window","$scope","$log","$timeout","$rootScope","$mdSidenav"],t}();e.MonarchAppController=o},function(t,e){function n(){return{restrict:"E",scope:{},template:'<div id="particles-js" layout-fill></div>\n        ',link:o,controller:i,controllerAs:"vm"}}function o(t,e,n,o){}e.renderedParticles=n;var i=function(){function t(t){this.$log=t,particlesJS.load("particles-js","assets/json/particles/particles.json",function(){})}return t.$inject=["$log"],t}();e.ParticlesController=i},function(t,e){var n=function(){function t(t,e,n,o,i,a){var r=this;this.$window=t,this.$scope=e,this.$log=n,this.$rootScope=o,this.$mdSidenav=i,this.$sce=a,this.submit=function(t){r.instance.capture.value=t,r.$rootScope.App.MonarchService.captureInstance(r.instance)},this.video_url=a.trustAsResourceUrl(this.instance.activity_spec.schema_config.video_url)}return t.$inject=["$window","$scope","$log","$rootScope","$mdSidenav","$sce"],t}();e.ContentViewV0Controller=n},function(t,e,n){function o(){return{restrict:"E",scope:{instance:"="},templateUrl:"app/feed/capture/content_view_v0/content_view_v0.partial.html",controller:i.ContentViewV0Controller,controllerAs:"vm",bindToController:!0}}var i=n(24);e.ecContentViewV0=o},function(t,e){var n=function(){function t(t,e,n,o,i,a){var r=this;this.$window=t,this.$scope=e,this.$log=n,this.$rootScope=o,this.$mdSidenav=i,this.$sce=a,this.submit=function(){r.$rootScope.App.MonarchService.captureInstance(r.instance)}}return t.$inject=["$window","$scope","$log","$rootScope","$mdSidenav","$sce"],t}();e.TextInputV0Controller=n},function(t,e,n){function o(){return{restrict:"E",scope:{instance:"="},templateUrl:"app/feed/capture/text_input_v0/text_input_v0.partial.html",controller:i.TextInputV0Controller,controllerAs:"vm",bindToController:!0}}var i=n(26);e.ecTextInputV0=o},function(t,e){var n=function(){function t(t,e,n,o,i,a){var r=this;this.$window=t,this.$scope=e,this.$log=n,this.$rootScope=o,this.$mdSidenav=i,this.$sce=a,this.submit=function(t){r.$log.debug("what instance!!!!",r.instance),r.instance.capture.value=t,r.$rootScope.App.MonarchService.captureInstance(r.instance)}}return t.$inject=["$window","$scope","$log","$rootScope","$mdSidenav","$sce"],t}();e.BooleanInputV0Controller=n},function(t,e,n){function o(){return{restrict:"E",scope:{instance:"="},templateUrl:"app/feed/capture/boolean_input_v0/boolean_input_v0.partial.html",controller:i.BooleanInputV0Controller,controllerAs:"vm",bindToController:!0}}var i=n(28);e.ecBooleanInputV0=o}]),angular.module("monarchApp").run(["$templateCache",function(t){t.put("app/eth-lightwallet/eth-lightwallet.html",'<md-content class="unsplash" layout-fill=""><app-navbar></app-navbar><div ng-include="\'app/eth-lightwallet/cards/create-new-wallet.html\'"></div><div ng-include="\'app/eth-lightwallet/cards/send-ether.html\'"></div></md-content>'),t.put("app/feed/feed.html",'<md-content layout-fill="" layout="column"><app-navbar></app-navbar><div layout-padding=""><div ng-repeat="instance in feedCtrl.activity_instances"><ec-content-view-v0 ng-if="instance.activity_spec.render_config.component === feedCtrl.ct.content_view_v0" instance="instance"></ec-content-view-v0><ec-text-input-v0 ng-if="instance.activity_spec.render_config.component === feedCtrl.ct.text_input_v0" instance="instance"></ec-text-input-v0><ec-boolean-input-v0 ng-if="instance.activity_spec.render_config.component === feedCtrl.ct.boolean_input_v0" instance="instance"></ec-boolean-input-v0></div></div></md-content>'),t.put("app/hello/hello.html",'<div layout-fill="" class="unsplash"><app-navbar></app-navbar></div>'),t.put("app/history/history.html",'<app-navbar layout="column"></app-navbar><md-content layout="column" layout-fill=""><div layout-margin=""><h3>History</h3></div><div ng-repeat="capture in historyCtrl.activity_instance_captures"><md-card md-theme="monarchAppTheme" md-theme-watch=""><md-card-title><md-card-title-text><span class="md-headline">{{capture.activity_spec.schema_config.title}}</span></md-card-title-text></md-card-title><md-card-content>{{capture.capture.value}}</md-card-content></md-card></div></md-content>'),t.put("app/navbar/navbar.bak.html",'<md-toolbar class="app-navbar" layout="row" layout-align="left center" layout-padding="" md-theme="{{ \'monarchAppTheme\' }}" md-theme-watch=""><a class="brand-link" ui-sref="hello" flex="" layout="row" ng-cloak=""><h1><i class="material-icons">fingerprint</i></h1></a><div ng-show="navbarCtrl.$rootScope.App.UserService.user" hide="" show-gt-xs=""><a class="md-button md-raised" ng-click="navbarCtrl.showMonarchId($event)">Monarch ID</a> <a class="md-button md-raised" ng-click="navbarCtrl.showMetaMaskAccount($event)">Ethereum Account</a></div><md-menu ng-show="navbarCtrl.$rootScope.App.UserService.user"><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="navbarCtrl.openMenu($mdOpenMenu, $event)"><i class="material-icons">dashboard</i></md-button><md-menu-content width="4"><md-menu-item hide-gt-xs=""><md-button><div layout="row" flex=""><i class="material-icons" flex="">fingerprint</i> <span>Monarch ID</span></div></md-button></md-menu-item><md-menu-item hide-gt-xs=""><md-button ng-click="navbarCtrl.showMetaMaskAccount($event)"><div layout="row" flex=""><i class="material-icons" flex="">account_balance</i> <span>Ethereum Wallet</span></div></md-button></md-menu-item><md-menu-item><md-button ui-sref="feed"><div layout="row" flex=""><i class="material-icons" flex="">view_day</i> <span>Feed</span></div></md-button></md-menu-item><md-menu-item><md-button ui-sref="metacoin"><div layout="row" flex=""><i class="material-icons" flex="">group_work</i> <span>MetaCoin</span></div></md-button></md-menu-item><md-menu-item><md-button ui-sref="history"><div layout="row" flex=""><i class="material-icons" flex="">list</i> <span>History</span></div></md-button></md-menu-item><md-menu-item><md-button href="https://github.com/transmute-industries/monarch"><div layout="row" flex=""><i class="material-icons" flex="">code</i> <span>Source</span></div></md-button></md-menu-item><md-menu-item><md-button href="http://monarch.transmute.industries"><div layout="row" flex=""><i class="material-icons" flex="">launch</i> <span>Live</span></div></md-button></md-menu-item><md-menu-item><md-button ui-sref="install"><div layout="row" flex=""><i class="material-icons" flex="">get_app</i> <span>Install</span></div></md-button></md-menu-item><md-menu-item><md-button ui-sref="logout"><div layout="row" flex=""><span flex=""></span> <span>Logout</span></div></md-button></md-menu-item></md-menu-content></md-menu><a ng-hide="navbarCtrl.$rootScope.App.UserService.user || navbarCtrl.$state.current.name === \'login\'" class="md-button md-raised" ui-sref="login">Login</a></md-toolbar><div style="visibility: hidden"><div class="md-dialog-container" id="showMonarchId"><md-dialog layout-padding="" flex="" layout="column"><canvas id="LargeFBUserToken" style="height: 256px; width: 256px;"></canvas><div><md-button class="md-raised md-accent md-hue-2" clipboard="" text="navbarCtrl.FBUserToken" on-copied="navbarCtrl.success()" on-error="navbarCtrl.fail(err)"><i class="fa fa-copy"></i> ID Token</md-button><div layout-padding="" hide="" show-gt-xs=""><p>{{navbarCtrl.$rootScope.App.UserService.user.uid}}</p></div></div></md-dialog></div></div><div style="visibility: hidden"><div class="md-dialog-container" id="showMetaMaskAccount"><md-dialog layout-padding="" flex="" layout="column"><canvas id="ethereum_account_qr_code" style="height: 256px; width: 256px;"></canvas><div><md-button class="md-raised md-accent md-hue-2" clipboard="" text="navbarCtrl.account.ethereum_accounts[0]" on-copied="navbarCtrl.success()" on-error="navbarCtrl.fail(err)"><i class="fa fa-copy"></i> Ethereum Account</md-button><div layout-padding="" hide="" show-gt-xs=""><p>{{navbarCtrl.account.ethereum_accounts[0]}}</p></div></div></md-dialog></div></div>'),
t.put("app/navbar/navbar.html",'<md-fab-toolbar class="fab-nav md-left" md-open="navbarCtrl.isOpen" md-direction="\'left\'"><md-fab-trigger ng-show="navbarCtrl.$rootScope.App.UserService.user"><md-button aria-label="menu" class="md-fab md-primary"><md-icon class="material-icons wi">face</md-icon></md-button></md-fab-trigger><div layout="row"><span flex=""></span> <a ng-hide="navbarCtrl.$rootScope.App.UserService.user || navbarCtrl.$state.current.name === \'login\'" class="md-button md-raised md-primary" ui-sref="login">Login</a></div><md-toolbar><md-fab-actions class="md-toolbar-tools"><md-button aria-label="comment" class="md-icon-button"><md-icon class="material-icons">face</md-icon></md-button><md-button aria-label="comment" ui-sref="metacoin">MetaCoin</md-button><md-button aria-label="comment" ui-sref="eth-lightwallet">Light Wallet</md-button><md-button aria-label="comment" ui-sref="logout">Logout</md-button></md-fab-actions></md-toolbar></md-fab-toolbar>'),t.put("app/metacoin/metacoin.html",'<div layout-fill="" class="unsplash"><app-navbar></app-navbar><md-card><md-card-title><md-card-title-text><span class="md-headline">MetaCoin</span> <span class="md-subhead">Balance: <span ng-bind="metaCoinCtrl.balance"></span></span></md-card-title-text><md-button flex="" class="md-raised md-accent" id="send" ng-click="metaCoinCtrl.sendCoin()">Send MetaCoins</md-button></md-card-title><md-card-content><div layout="row"><md-input-container><label>Send Amount</label> <input type="number" id="amount" placeholder="e.g., 95" ng-model="metaCoinCtrl.sendingAmmount"></md-input-container><md-input-container ng-hide="true"><label>Receiving Account</label> <input type="text" id="receiver" placeholder="e.g., 0x93e66d9baea28c17d9fc393b53e3fbdd76899dae"></md-input-container><md-input-container flex=""><label>Receiving Account</label><md-select ng-model="metaCoinCtrl.receivingAccount" id="receiver"><md-option ng-repeat="account in metaCoinCtrl.accounts" ng-value="account" ng-disabled="$index === 0">{{account}}</md-option></md-select></md-input-container></div><span ng-bind="metaCoinCtrl.status"></span></md-card-content></md-card></div>'),t.put("app/pulse/pulse.html",'<app-navbar layout="column"></app-navbar><md-content layout="column" layout-fill=""><div layout-margin=""><h3>Pulse</h3></div><md-card id="chart_1" md-theme="" md-theme-watch=""></md-card><md-card id="chart_2" md-theme="" md-theme-watch=""></md-card></md-content>'),t.put("app/welcome/welcome.html",'<div layout-fill="" class="unsplash"><app-navbar></app-navbar><div layout="column" layout-align="center center"><div class="welcome_content"><h1>Monarch</h1><p>Conversational Ethereum</p></div></div><rendered-particles flex=""></rendered-particles></div>'),t.put("app/dependencies/install/install.html",'<app-navbar layout="column"></app-navbar><md-content layout="column" layout-fill=""><div layout-margin=""><h3 ng-hide="installDependenciesCtrl.isInstallationComplete">Install Dependencies</h3><h3 ng-show="installDependenciesCtrl.isInstallationComplete">Installation Complete</h3></div><md-card ng-hide="installDependenciesCtrl.$rootScope.App.isMetaMaskInstalled" md-theme="monarchAppTheme" md-theme-watch=""><md-card-title><md-card-title-text><span class="md-headline">MetaMask</span></md-card-title-text></md-card-title><md-card-content><h4>Brings Ethereum to your chrome browser.</h4></md-card-content><md-card-actions layout="row" layout-align="end center"><span flex="" layout-padding=""></span><md-button href="https://metamask.io/" class="md-primary md-raised">Install</md-button></md-card-actions></md-card><md-card ng-hide="installDependenciesCtrl.$rootScope.App.isIPFSInstalled" md-theme="monarchAppTheme" md-theme-watch=""><md-card-title><md-card-title-text><span class="md-headline">IPFS</span></md-card-title-text></md-card-title><md-card-content><h4>A peer-to-peer hypermedia protocol to make the web faster, safer, and more open.</h4><div layout-fill="" id="editor" ui-ace="{ useWrapMode : true, showGutter: false, theme:\'twilight\', mode: \'markdown\', firstLineNumber: 5, onLoad: installDependenciesCtrl.aceLoaded, onChange: installDependenciesCtrl.aceChanged }"></div></md-card-content><md-card-actions layout="row" layout-align="end center"><span flex="" layout-padding=""></span><md-button href="https://ipfs.io/" class="md-primary md-raised">Install</md-button></md-card-actions></md-card></md-content>'),t.put("app/eth-lightwallet/cards/create-new-wallet.html",'<md-card ng-hide="ethLightWalletCtrl.hide_generateRandomSeed"><md-card-title><md-card-title-text><span class="md-headline">Create New Wallet</span></md-card-title-text><md-button class="md-raised md-accent" ng-click="ethLightWalletCtrl.generateRandomSeed()()">Create New Wallet</md-button></md-card-title><md-card-content><div layout="row"><md-input-container flex=""><label>Entropy</label> <input type="text" ng-model="ethLightWalletCtrl.userEntropy" placeholder="Type random text to generate entropy"></md-input-container></div></md-card-content></md-card><md-card ng-hide="ethLightWalletCtrl.hide_deriveKeyFromPassword"><md-card-title><md-card-title-text><span class="md-headline">WARNING: ONLY SHOWN ONCE</span></md-card-title-text></md-card-title><md-card-content><div layout="column"><md-input-container flex=""><p>Your new wallet seed is:</p><h3 ng-bind="ethLightWalletCtrl.randomSeed"></h3><p>Please write this down on paper or in a password manager, you will need this to access your wallet. Do not let anyone see this seed or they can take your Ether.</p></md-input-container><h4>Please enter a password to encrypt your seed while in the browser.</h4><div layout="row"><md-input-container flex=""><label>Password</label> <input type="password" ng-model="ethLightWalletCtrl.password"></md-input-container><md-input-container><md-button class="md-raised md-accent" ng-click="ethLightWalletCtrl.deriveKeyFromPassword(ethLightWalletCtrl.password)">Derive Key From Password</md-button></md-input-container></div></div></md-card-content></md-card>'),t.put("app/eth-lightwallet/cards/send-ether.html",'<md-card ng-hide="ethLightWalletCtrl.hide_sendEth"><md-card-title><md-card-title-text><span class="md-headline">Send Ether</span></md-card-title-text><md-button class="md-raised md-accent" ng-click="ethLightWalletCtrl.sendEth()">Send Ether</md-button></md-card-title><md-card-content><div layout="column"><md-input-container><label>From</label> <input type="text" ng-model="ethLightWalletCtrl.sendFrom" placeholder="..."></md-input-container><md-input-container><label>To</label> <input type="text" ng-model="ethLightWalletCtrl.sendTo" placeholder="..."></md-input-container><md-input-container><label>Ammount</label> <input type="number" ng-model="ethLightWalletCtrl.sendValueAmount" placeholder="..."></md-input-container></div></md-card-content></md-card>'),t.put("app/user/login/login.html",'<div layout-fill="" class="unsplash"><app-navbar></app-navbar><div class="login-content" layout="column" flex="" id="login-content" role="main"><md-input-container layout-align="center center"><div layout-margin=""><md-button class="md-primary md-raised md-hue-3" ng-click="loginController.loginWithGithub()">Login</md-button><md-button class="md-raised" ui-sref="register">Register</md-button></div></md-input-container></div></div>'),t.put("app/user/logout/logout.html","Goodby..."),t.put("app/feed/capture/boolean_input_v0/boolean_input_v0.partial.html",'<md-card class="ec-capture-card" md-theme="{{ vm.instance.activity_spec.render_config.md_theme }}" md-theme-watch=""><md-card-actions layout="row" layout-align="end center"><span flex="" layout-padding="">{{vm.instance.activity_spec.schema_config.title}}</span><md-button ng-click="vm.submit(0)" class="">No</md-button><md-button ng-click="vm.submit(1)" class="">Yes</md-button></md-card-actions></md-card>'),t.put("app/feed/capture/content_view_v0/content_view_v0.partial.html",'<md-card class="ec-capture-card" md-theme="{{ vm.instance.activity_spec.render_config.md_theme }}" md-theme-watch=""><iframe style="min-height: 480px" class="youtube-player" type="text/html" layout-fill="" ng-src="{{vm.video_url}}" frameborder="0" allowfullscreen=""></iframe><md-card-actions layout="row" layout-align="end center"><span flex="" layout-padding="">How likely are you to recommend this video?</span><md-button ng-click="vm.submit(rating)" ng-repeat="rating in [1, 2, 3]" class="">{{rating}}</md-button></md-card-actions></md-card>'),t.put("app/feed/capture/text_input_v0/text_input_v0.partial.html",'<md-card class="ec-capture-card" md-theme="{{ vm.instance.activity_spec.render_config.md_theme }}" md-theme-watch=""><md-card-title><md-card-title-text><span class="md-headline">{{vm.instance.activity_spec.schema_config.title}}</span></md-card-title-text></md-card-title><md-card-content><md-input-container layout-fill=""><label>{{vm.instance.activity_spec.render_config.label}}</label> <input ng-model="vm.instance.capture.value" type="text" flex=""></md-input-container></md-card-content><md-card-actions layout="row" layout-align="end center"><md-button ng-click="vm.submit()" class="">Submit</md-button></md-card-actions></md-card>'),t.put("app/user/register/monarch/register.html",'<app-navbar layout="column"></app-navbar><md-content layout="column" layout-fill="" class="unsplash"><div class="login-content" layout="column" flex="" id="login-content" role="main"><md-input-container layout-align="center center"><div layout="row" layout-sm="column" layout-margin=""><md-button class="md-accent md-raised" ng-click="registerCtrl.registerUser()">Register</md-button></div></md-input-container></div></md-content>')}]);
//# sourceMappingURL=../maps/scripts/app-cd521097e8.js.map
